#!/bin/bash

if [ -z "$1" ]; then
    echo "Usage: up <script.sh>"
    exit 1
fi

SCRIPT="$1"

if [ ! -f "$SCRIPT" ]; then
    echo "âŒ Error: script '$SCRIPT' not found."
    exit 1
fi

# åˆ›å»ºæ—¥å¿—ç›®å½•
LOGDIR="./logs"
mkdir -p "$LOGDIR"

# åŽ»é™¤ .sh åŽç¼€ç”Ÿæˆæ—¥å¿—æ–‡ä»¶å
SCRIPT_NAME=$(basename "$SCRIPT" .sh)
LOGFILE="$LOGDIR/${SCRIPT_NAME}.log"

# åŽå°è¿è¡Œ
nohup bash "$SCRIPT" > "$LOGFILE" 2>&1 &

PID=$!
echo "âœ… Started '$SCRIPT' in background (PID $PID)"
echo "ðŸ“„ Log: $LOGFILE"

